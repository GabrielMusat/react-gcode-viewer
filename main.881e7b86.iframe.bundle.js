(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return Object(ClientApi.d)(value);case"argTypes":return Object(ClientApi.b)(value);case"decorators":return value.forEach((function(decorator){return Object(ClientApi.f)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.g)(loader,!1)}));case"parameters":return Object(ClientApi.h)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.e)(enhancer)}));case"render":return Object(ClientApi.i)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.h)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./.storybook/stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./FromFile.stories.tsx":"./.storybook/stories/FromFile.stories.tsx","./FromUrl.stories.tsx":"./.storybook/stories/FromUrl.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./.storybook/stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"./.storybook/stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id="./.storybook/stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"./.storybook/stories/FromFile.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary}));__webpack_require__("./node_modules/core-js/modules/web.url.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react/index.js"),_src__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var style={position:"absolute",top:"0vh",left:"0vw",width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"};var Primary=function FromUrl(props){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)(),2),file=_useState2[0],setFile=_useState2[1],url=Object(react__WEBPACK_IMPORTED_MODULE_14__.useMemo)((function(){return file?URL.createObjectURL(file):null}),[file]),preventDefault=Object(react__WEBPACK_IMPORTED_MODULE_14__.useCallback)((function(e){e.preventDefault()}),[]),extraProps={onDragOver:preventDefault,onDragEnter:preventDefault,onDrop:Object(react__WEBPACK_IMPORTED_MODULE_14__.useCallback)((function(e){e.preventDefault(),console.log("file dropped"),setFile(e.dataTransfer.files[0])}),[])};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[url&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_src__WEBPACK_IMPORTED_MODULE_15__.a,Object.assign({url:url,style:style,orbitControls:!0},extraProps,props,{layerColor:"#008675",topLayerColor:"#e79f0d",onProgress:console.log,onFinishLoading:console.log,onError:console.error})),!url&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",Object.assign({style:style},extraProps,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("h4",{children:"drop here"})}))]})}.bind({});__webpack_exports__.default={component:_src__WEBPACK_IMPORTED_MODULE_15__.a,title:"GCodeViewer from dropped file"},Primary.parameters=Object.assign({storySource:{source:"FromUrl.bind({})"}},Primary.parameters);try{Primary.displayName="Primary",Primary.__docgenInfo={description:"",displayName:"Primary",props:{onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((err: Error) => any)"}},onProgress:{defaultValue:null,description:"",name:"onProgress",required:!1,type:{name:"((progress: GCodeParseProgress) => any)"}},layerColor:{defaultValue:null,description:"",name:"layerColor",required:!1,type:{name:"Color"}},topLayerColor:{defaultValue:null,description:"",name:"topLayerColor",required:!1,type:{name:"Color"}},floorProps:{defaultValue:null,description:"",name:"floorProps",required:!1,type:{name:"FloorProps"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"number"}},showAxes:{defaultValue:null,description:"",name:"showAxes",required:!1,type:{name:"boolean"}},orbitControls:{defaultValue:null,description:"",name:"orbitControls",required:!1,type:{name:"boolean"}},quality:{defaultValue:null,description:"",name:"quality",required:!1,type:{name:"number"}},onFinishLoading:{defaultValue:null,description:"",name:"onFinishLoading",required:!1,type:{name:"((finish: GCodeParseProgress) => any)"}},reqOptions:{defaultValue:null,description:"",name:"reqOptions",required:!1,type:{name:"RequestInit"}},canvasId:{defaultValue:null,description:"",name:"canvasId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/stories/FromFile.stories.tsx#Primary"]={docgenInfo:Primary.__docgenInfo,name:"Primary",path:".storybook/stories/FromFile.stories.tsx#Primary"})}catch(__react_docgen_typescript_loader_error){}},"./.storybook/stories/FromUrl.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var _src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react/jsx-runtime.js"));function FromUrl(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.a,Object.assign({url:"https://storage.googleapis.com/ucloud-v3/61575ddb9d8a176950431398.gcode",showAxes:!0,orbitControls:!0,style:{position:"absolute",top:"0vh",left:"0vw",width:"100vw",height:"100vh",backgroundColor:"white"},floorProps:{gridWidth:300,gridLength:300}},props,{layerColor:"#008675",topLayerColor:"#e79f0d",onProgress:console.log,onFinishLoading:console.log}))}FromUrl.displayName="FromUrl";var Primary=FromUrl.bind({});__webpack_exports__.default={component:_src__WEBPACK_IMPORTED_MODULE_2__.a,title:"GCodeViewer from url"},Primary.parameters=Object.assign({storySource:{source:"FromUrl.bind({})"}},Primary.parameters);try{Primary.displayName="Primary",Primary.__docgenInfo={description:"",displayName:"Primary",props:{onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((err: Error) => any)"}},onProgress:{defaultValue:null,description:"",name:"onProgress",required:!1,type:{name:"((progress: GCodeParseProgress) => any)"}},layerColor:{defaultValue:null,description:"",name:"layerColor",required:!1,type:{name:"Color"}},topLayerColor:{defaultValue:null,description:"",name:"topLayerColor",required:!1,type:{name:"Color"}},floorProps:{defaultValue:null,description:"",name:"floorProps",required:!1,type:{name:"FloorProps"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"number"}},showAxes:{defaultValue:null,description:"",name:"showAxes",required:!1,type:{name:"boolean"}},orbitControls:{defaultValue:null,description:"",name:"orbitControls",required:!1,type:{name:"boolean"}},quality:{defaultValue:null,description:"",name:"quality",required:!1,type:{name:"number"}},onFinishLoading:{defaultValue:null,description:"",name:"onFinishLoading",required:!1,type:{name:"((finish: GCodeParseProgress) => any)"}},reqOptions:{defaultValue:null,description:"",name:"reqOptions",required:!1,type:{name:"RequestInit"}},canvasId:{defaultValue:null,description:"",name:"canvasId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/stories/FromUrl.stories.tsx#Primary"]={docgenInfo:Primary.__docgenInfo,name:"Primary",path:".storybook/stories/FromUrl.stories.tsx#Primary"})}catch(__react_docgen_typescript_loader_error){}},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./.storybook/stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./.storybook/stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./src/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GCodeViewer}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),react_three_fiber_esm=__webpack_require__("./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js"),OrbitControls=(__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@react-three/drei/core/OrbitControls.js")),three_module=__webpack_require__("./node_modules/three/build/three.module.js");__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var MOVE_DIRECTIVES=["g0","g1"];function isMoveCmd(cmd){cmd=cmd.trim().slice(0,2).toLowerCase();var _step,_iterator=_createForOfIteratorHelper(MOVE_DIRECTIVES);try{for(_iterator.s();!(_step=_iterator.n()).done;){var directive=_step.value;if(cmd.startsWith(directive))return!0}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!1}function GPointFromCmd(cmd,prev){var point=Object.assign({},prev),tokens=(cmd=cmd.split(";")[0]).split(/ +/g).map((function(t){return t.toLocaleLowerCase()}));if(!MOVE_DIRECTIVES.includes(tokens[0]))throw new Error(tokens[0]+" is not a move directive");var _step2,hasExtruded=!1,_iterator2=_createForOfIteratorHelper(tokens.slice(1));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _step3,token=_step2.value,_iterator3=_createForOfIteratorHelper(["x","y","z","e"]);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var axis=_step3.value;if(token.startsWith(axis)){point[axis]=Number(token.slice(1)),"e"===axis&&point[axis]>0&&(hasExtruded=!0);break}}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return point.type=hasExtruded?"extrude":"travel",point}function GCode_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function GCode_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return GCode_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GCode_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function GCode_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var BIG_NUM=Math.pow(2,32),sleep=function sleep(ms){return new Promise((function(res){return setTimeout(res,ms)}))},GCode_GCode=function(){function GCode(){var _this=this,opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,GCode),this.lastPoint={x:0,y:0,z:0,e:0,type:"travel"},this.points=[],this.baseCenter=void 0,this.limits={max:{x:0,y:0,z:0},min:{x:BIG_NUM,y:BIG_NUM,z:0}},this.opts=void 0,this.filament=0,this.read=0,this.count=0,this._abort=!1,this.omitCycle=[],this.qualityRes=void 0,this.abort=function(){_this._abort=!0},this.parse=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(reader){var prevCodeLine,chunk,codeLines;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:prevCodeLine="",_this.read=0;case 2:if(_this._abort){_context.next=18;break}return _context.next=5,reader.read();case 5:if(chunk=_context.sent){_context.next=8;break}return _context.abrupt("break",18);case 8:return _this.read+=chunk.length,(codeLines=chunk.split("\n"))[0]=prevCodeLine+codeLines[0],prevCodeLine=codeLines.pop()||"",_this.parseCodeLines(codeLines),_this.opts.onProgress&&_this.opts.onProgress(_this.getProgress()),_context.next=16,sleep(0);case 16:_context.next=2;break;case 18:_this.opts.onFinished&&_this.opts.onFinished(_this.getProgress());case 19:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),this.opts=opts;var quality=opts.quality||1;if(quality>1||quality<0)throw new Error("quality must be between 0 and 1");var q=quality>.5?1-quality:quality;this.qualityRes=Math.min(Math.ceil(1/q),10);for(var n=Math.ceil(quality*this.qualityRes),i=0;i<this.qualityRes;i++)this.omitCycle.push(i<n)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(GCode,[{key:"getProgress",value:function getProgress(){return{points:this.points,read:this.read,baseCenter:this.baseCenter?Object.assign({},this.baseCenter):{x:0,y:0},max:Object.assign({},this.limits.max),min:Object.assign({},this.limits.min),filamentLength:this.filament}}},{key:"updateBaseCenter",value:function updateBaseCenter(){var _step,accX=0,accY=0,count=0,_iterator=GCode_createForOfIteratorHelper(this.points);try{for(_iterator.s();!(_step=_iterator.n()).done;){var point=_step.value;"extrude"===point.type&&(accX+=point.x,accY+=point.y,count++)}}catch(err){_iterator.e(err)}finally{_iterator.f()}count<10||(this.baseCenter={x:accX/count,y:accY/count})}},{key:"updateLimits",value:function updateLimits(move){var _step2,_iterator2=GCode_createForOfIteratorHelper(["x","y","z"]);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var axis=_step2.value;move[axis]>this.limits.max[axis]&&(this.limits.max[axis]=move[axis]),move[axis]<this.limits.min[axis]&&(this.limits.min[axis]=move[axis])}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}move.e&&move.e>this.filament&&(this.filament=move.e)}},{key:"parseCodeLines",value:function parseCodeLines(codeLines){var _step3,_iterator3=GCode_createForOfIteratorHelper(codeLines);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var line=_step3.value;if(isMoveCmd(line)){var point=GPointFromCmd(line,this.lastPoint);point.z>.4&&!this.baseCenter&&this.updateBaseCenter(),point.z>.4&&"extrude"===point.type&&this.updateLimits(point),this.lastPoint=point,"travel"!==point.type?(this.omitCycle[this.count%this.qualityRes]&&this.points.push(point),this.count++):this.points.push(point)}}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}}]),GCode}(),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["points","showTravel"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function GCodeLines(_ref){var points=_ref.points,_ref$showTravel=_ref.showTravel,showTravel=void 0!==_ref$showTravel&&_ref$showTravel,otherProps=_objectWithoutProperties(_ref,_excluded),extrudeRef=Object(react.useRef)(null),travelRef=Object(react.useRef)(null),setLines=Object(react.useCallback)((function(geometry,type){for(var indices=[],i=1;i<points.length;i++)points[i].type===type&&indices.push(i-1,i);var coords=points.map((function(_ref2){var x=_ref2.x,y=_ref2.y,z=_ref2.z;return new three_module.Vector3(x,y,z)}));geometry.setFromPoints(coords),geometry.setIndex(indices)}),[points]);return Object(react.useLayoutEffect)((function(){extrudeRef.current&&setLines(extrudeRef.current,"extrude"),travelRef.current&&setLines(travelRef.current,"travel")}),[setLines]),Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)("lineSegments",{children:[Object(jsx_runtime.jsx)("bufferGeometry",{ref:extrudeRef}),Object(jsx_runtime.jsx)("lineDashedMaterial",Object.assign({attach:"material"},otherProps))]}),showTravel&&Object(jsx_runtime.jsxs)("lineSegments",{children:[Object(jsx_runtime.jsx)("bufferGeometry",{ref:travelRef}),Object(jsx_runtime.jsx)("lineDashedMaterial",{attach:"material"})]})]})}var GCodeViewer_GCodeLines=GCodeLines;try{GCodeLines.displayName="GCodeLines",GCodeLines.__docgenInfo={description:"",displayName:"GCodeLines",props:{points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"GPoint[]"}},showTravel:{defaultValue:{value:"false"},description:"",name:"showTravel",required:!1,type:{name:"boolean"}},name:{defaultValue:{value:"''"},description:"Material name. Default is an empty string.",name:"name",required:!1,type:{name:"string"}},type:{defaultValue:{value:"'LineDashedMaterial'"},description:"Value is the string 'Material'. This shouldn't be changed, and can be used to find all objects of this type in a scene.",name:"type",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Unique number of this material instance.",name:"id",required:!1,type:{name:"number"}},color:{defaultValue:{value:"0xffffff"},description:"",name:"color",required:!1,type:{name:"Color"}},visible:{defaultValue:{value:"true"},description:"Defines whether this material is visible. Default is true.",name:"visible",required:!1,type:{name:"boolean"}},copy:{defaultValue:null,description:"Copy the parameters from the passed material into this material.\n@param material",name:"copy",required:!1,type:{name:"((material: Material) => LineDashedMaterial)"}},transparent:{defaultValue:{value:"false"},description:"Defines whether this material is transparent. This has an effect on rendering as transparent objects need special treatment and are rendered after non-transparent objects.\nWhen set to true, the extent to which the material is transparent is controlled by setting it's .opacity property.\nDefault is false.",name:"transparent",required:!1,type:{name:"boolean"}},alphaTest:{defaultValue:{value:"0"},description:"Sets the alpha value to be used when running an alpha test. Default is 0.",name:"alphaTest",required:!1,type:{name:"number"}},alphaToCoverage:{defaultValue:{value:"false"},description:"Enables alpha to coverage. Can only be used with MSAA-enabled rendering contexts.",name:"alphaToCoverage",required:!1,type:{name:"boolean"}},blendDst:{defaultValue:{value:"THREE.OneMinusSrcAlphaFactor"},description:"Blending destination. It's one of the blending mode constants defined in Three.js. Default is {@link OneMinusSrcAlphaFactor }.",name:"blendDst",required:!1,type:{name:"BlendingDstFactor"}},blendDstAlpha:{defaultValue:{value:"null"},description:"The tranparency of the .blendDst. Default is null.",name:"blendDstAlpha",required:!1,type:{name:"number | null"}},blendEquation:{defaultValue:{value:"THREE.AddEquation"},description:"Blending equation to use when applying blending. It's one of the constants defined in Three.js. Default is {@link AddEquation }.",name:"blendEquation",required:!1,type:{name:"BlendingEquation"}},blendEquationAlpha:{defaultValue:{value:"null"},description:"The tranparency of the .blendEquation. Default is null.",name:"blendEquationAlpha",required:!1,type:{name:"number | null"}},blending:{defaultValue:{value:"THREE.NormalBlending"},description:"Which blending to use when displaying objects with this material. Default is {@link NormalBlending }.",name:"blending",required:!1,type:{name:"Blending"}},blendSrc:{defaultValue:{value:"THREE.SrcAlphaFactor"},description:"Blending source. It's one of the blending mode constants defined in Three.js. Default is {@link SrcAlphaFactor }.",name:"blendSrc",required:!1,type:{name:"BlendingDstFactor | BlendingSrcFactor"}},blendSrcAlpha:{defaultValue:{value:"null"},description:"The tranparency of the .blendSrc. Default is null.",name:"blendSrcAlpha",required:!1,type:{name:"number | null"}},clipIntersection:{defaultValue:{value:"false"},description:"Changes the behavior of clipping planes so that only their intersection is clipped, rather than their union. Default is false.",name:"clipIntersection",required:!1,type:{name:"boolean"}},clippingPlanes:{defaultValue:{value:"null"},description:"User-defined clipping planes specified as THREE.Plane objects in world space.\nThese planes apply to the objects this material is attached to.\nPoints in space whose signed distance to the plane is negative are clipped (not rendered).\nSee the WebGL / clipping /intersection example. Default is null.",name:"clippingPlanes",required:!1,type:{name:"any"}},clipShadows:{defaultValue:{value:"false"},description:"Defines whether to clip shadows according to the clipping planes specified on this material. Default is false.",name:"clipShadows",required:!1,type:{name:"boolean"}},colorWrite:{defaultValue:{value:"true"},description:"Whether to render the material's color. This can be used in conjunction with a mesh's .renderOrder property to create invisible objects that occlude other objects. Default is true.",name:"colorWrite",required:!1,type:{name:"boolean"}},defines:{defaultValue:{value:"undefined"},description:"Custom defines to be injected into the shader. These are passed in form of an object literal, with key/value pairs. { MY_CUSTOM_DEFINE: '' , PI2: Math.PI * 2 }.\nThe pairs are defined in both vertex and fragment shaders. Default is undefined.",name:"defines",required:!1,type:{name:"{ [key: string]: any; }"}},depthFunc:{defaultValue:{value:"THREE.LessEqualDepth"},description:"Which depth function to use. Default is {@link LessEqualDepth }. See the depth mode constants for all possible values.",name:"depthFunc",required:!1,type:{name:"DepthModes"}},depthTest:{defaultValue:{value:"true"},description:"Whether to have depth test enabled when rendering this material. Default is true.",name:"depthTest",required:!1,type:{name:"boolean"}},depthWrite:{defaultValue:{value:"true"},description:"Whether rendering this material has any effect on the depth buffer. Default is true.\nWhen drawing 2D overlays it can be useful to disable the depth writing in order to layer several things together without creating z-index artifacts.",name:"depthWrite",required:!1,type:{name:"boolean"}},fog:{defaultValue:{value:"fog"},description:"Whether the material is affected by fog. Default is true.",name:"fog",required:!1,type:{name:"boolean"}},format:{defaultValue:{value:"THREE.RGBAFormat"},description:"When this property is set to THREE.RGBFormat, the material is considered to be opaque and alpha values are ignored.",name:"format",required:!1,type:{name:"PixelFormat"}},stencilWrite:{defaultValue:{value:"false"},description:"Whether rendering this material has any effect on the stencil buffer. Default is *false*.",name:"stencilWrite",required:!1,type:{name:"boolean"}},stencilFunc:{defaultValue:{value:"THREE.AlwaysStencilFunc"},description:"The stencil comparison function to use. Default is {@link AlwaysStencilFunc }. See stencil operation constants for all possible values.",name:"stencilFunc",required:!1,type:{name:"StencilFunc"}},stencilRef:{defaultValue:{value:"0"},description:"The value to use when performing stencil comparisons or stencil operations. Default is *0*.",name:"stencilRef",required:!1,type:{name:"number"}},stencilWriteMask:{defaultValue:{value:"0xff"},description:"The bit mask to use when writing to the stencil buffer. Default is *0xFF*.",name:"stencilWriteMask",required:!1,type:{name:"number"}},stencilFuncMask:{defaultValue:{value:"0xff"},description:"The bit mask to use when comparing against the stencil buffer. Default is *0xFF*.",name:"stencilFuncMask",required:!1,type:{name:"number"}},stencilFail:{defaultValue:{value:"THREE.KeepStencilOp"},description:"Which stencil operation to perform when the comparison function returns false. Default is {@link KeepStencilOp }. See the stencil operation constants for all possible values.",name:"stencilFail",required:!1,type:{name:"StencilOp"}},stencilZFail:{defaultValue:{value:"THREE.KeepStencilOp"},description:"Which stencil operation to perform when the comparison function returns true but the depth test fails.\nDefault is {@link KeepStencilOp }.\nSee the stencil operation constants for all possible values.",name:"stencilZFail",required:!1,type:{name:"StencilOp"}},stencilZPass:{defaultValue:{value:"THREE.KeepStencilOp"},description:"Which stencil operation to perform when the comparison function returns true and the depth test passes.\nDefault is {@link KeepStencilOp }.\nSee the stencil operation constants for all possible values.",name:"stencilZPass",required:!1,type:{name:"StencilOp"}},isMaterial:{defaultValue:null,description:"Used to check whether this or derived classes are materials. Default is true.\nYou should not change this, as it used internally for optimisation.",name:"isMaterial",required:!1,type:{name:"true"}},needsUpdate:{defaultValue:{value:"false"},description:"Specifies that the material needs to be updated, WebGL wise. Set it to true if you made changes that need to be reflected in WebGL.\nThis property is automatically set to true when instancing a new material.",name:"needsUpdate",required:!1,type:{name:"boolean"}},opacity:{defaultValue:{value:"1"},description:"Opacity. Default is 1.",name:"opacity",required:!1,type:{name:"number"}},polygonOffset:{defaultValue:{value:"false"},description:"Whether to use polygon offset. Default is false. This corresponds to the POLYGON_OFFSET_FILL WebGL feature.",name:"polygonOffset",required:!1,type:{name:"boolean"}},polygonOffsetFactor:{defaultValue:{value:"0"},description:"Sets the polygon offset factor. Default is 0.",name:"polygonOffsetFactor",required:!1,type:{name:"number"}},polygonOffsetUnits:{defaultValue:{value:"0"},description:"Sets the polygon offset units. Default is 0.",name:"polygonOffsetUnits",required:!1,type:{name:"number"}},precision:{defaultValue:{value:"null"},description:'Override the renderer\'s default precision for this material. Can be "highp", "mediump" or "lowp". Defaults is null.',name:"precision",required:!1,type:{name:'"highp" | "mediump" | "lowp" | null'}},premultipliedAlpha:{defaultValue:{value:"false"},description:"Whether to premultiply the alpha (transparency) value. See WebGL / Materials / Transparency for an example of the difference. Default is false.",name:"premultipliedAlpha",required:!1,type:{name:"boolean"}},dithering:{defaultValue:{value:"false"},description:"Whether to apply dithering to the color to remove the appearance of banding. Default is false.",name:"dithering",required:!1,type:{name:"boolean"}},side:{defaultValue:{value:"THREE.FrontSide"},description:"Defines which of the face sides will be rendered - front, back or both.\nDefault is THREE.FrontSide. Other options are THREE.BackSide and THREE.DoubleSide.",name:"side",required:!1,type:{name:"Side"}},shadowSide:{defaultValue:{value:"null"},description:"Defines which of the face sides will cast shadows. Default is *null*.\nIf *null*, the value is opposite that of side, above.",name:"shadowSide",required:!1,type:{name:"Side"}},toneMapped:{defaultValue:{value:"true"},description:"Defines whether this material is tone mapped according to the renderer's toneMapping setting.\nDefault is true.",name:"toneMapped",required:!1,type:{name:"boolean"}},uuid:{defaultValue:null,description:"UUID of this material instance. This gets automatically assigned, so this shouldn't be edited.",name:"uuid",required:!1,type:{name:"string"}},vertexColors:{defaultValue:{value:"false"},description:"Defines whether vertex coloring is used. Default is false.",name:"vertexColors",required:!1,type:{name:"boolean"}},userData:{defaultValue:{value:"{}"},description:"An object that can be used to store custom data about the Material. It should not hold references to functions as these will not be cloned.",name:"userData",required:!1,type:{name:"any"}},version:{defaultValue:{value:"0"},description:"This starts at 0 and counts how many times .needsUpdate is set to true.",name:"version",required:!1,type:{name:"number"}},clone:{defaultValue:null,description:"Return a new material with the same parameters as this material.",name:"clone",required:!1,type:{name:"(() => LineDashedMaterial)"}},dispose:{defaultValue:null,description:"This disposes the material. Textures of a material don't get disposed. These needs to be disposed by {@link Texture}.",name:"dispose",required:!1,type:{name:"(() => void)"}},onBeforeCompile:{defaultValue:null,description:"An optional callback that is executed immediately before the shader program is compiled.\nThis function is called with the shader source code as a parameter.\nUseful for the modification of built-in materials.\n@param shader Source code of the shader\n@param renderer WebGLRenderer Context that is initializing the material",name:"onBeforeCompile",required:!1,type:{name:"((shader: Shader, renderer: WebGLRenderer) => void)"}},customProgramCacheKey:{defaultValue:null,description:"In case onBeforeCompile is used, this callback can be used to identify values of settings used in onBeforeCompile, so three.js can reuse a cached shader or recompile the shader as needed.",name:"customProgramCacheKey",required:!1,type:{name:"(() => string)"}},setValues:{defaultValue:null,description:"Sets the properties based on the values.",name:"setValues",required:!1,type:{name:"((parameters: LineDashedMaterialParameters) => void)"}},toJSON:{defaultValue:null,description:"Convert the material to three.js JSON format.\n@param meta Object containing metadata such as textures or images for the material.",name:"toJSON",required:!1,type:{name:"((meta?: any) => any)"}},addEventListener:{defaultValue:null,description:"Adds a listener to an event type.\n@param type The type of event to listen to.\n@param listener The function that gets called when the event is fired.",name:"addEventListener",required:!1,type:{name:"(<T extends string>(type: T, listener: EventListener<Event, T, LineDashedMaterial>) => void)"}},hasEventListener:{defaultValue:null,description:"Checks if listener is added to an event type.\n@param type The type of event to listen to.\n@param listener The function that gets called when the event is fired.",name:"hasEventListener",required:!1,type:{name:"(<T extends string>(type: T, listener: EventListener<Event, T, LineDashedMaterial>) => boolean)"}},removeEventListener:{defaultValue:null,description:"Removes a listener from an event type.\n@param type The type of the listener that gets removed.\n@param listener The listener function that gets removed.",name:"removeEventListener",required:!1,type:{name:"(<T extends string>(type: T, listener: EventListener<Event, T, LineDashedMaterial>) => void)"}},dispatchEvent:{defaultValue:null,description:"Fire an event type.\n@param type The type of event that gets fired.",name:"dispatchEvent",required:!1,type:{name:"((event: Event) => void)"}},scale:{defaultValue:{value:"1"},description:"",name:"scale",required:!1,type:{name:"number"}},dashSize:{defaultValue:{value:"1"},description:"",name:"dashSize",required:!1,type:{name:"number"}},gapSize:{defaultValue:{value:"1"},description:"",name:"gapSize",required:!1,type:{name:"number"}},isLineDashedMaterial:{defaultValue:null,description:"",name:"isLineDashedMaterial",required:!1,type:{name:"true"}},linewidth:{defaultValue:{value:"1"},description:"",name:"linewidth",required:!1,type:{name:"number"}},linecap:{defaultValue:{value:"'round'"},description:"",name:"linecap",required:!1,type:{name:"string"}},linejoin:{defaultValue:{value:"'round'"},description:"",name:"linejoin",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/GCodeViewer/GCodeLines.tsx#GCodeLines"]={docgenInfo:GCodeLines.__docgenInfo,name:"GCodeLines",path:"src/GCodeViewer/GCodeLines.tsx#GCodeLines"})}catch(__react_docgen_typescript_loader_error){}var PerspectiveCamera=__webpack_require__("./node_modules/@react-three/drei/core/PerspectiveCamera.js"),Camera_excluded=["initialPosition"];function Camera_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function Camera_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Camera_Camera=function Camera(_ref){var initialPosition=_ref.initialPosition,otherProps=Camera_objectWithoutProperties(_ref,Camera_excluded),camera=Object(react_three_fiber_esm.c)().camera;return Object(react.useEffect)((function(){camera.up.applyAxisAngle(new three_module.Vector3(1,0,0),Math.PI/2),void 0!==initialPosition&&camera.position.set(initialPosition.x,initialPosition.y,initialPosition.z)}),[camera]),Object(jsx_runtime.jsx)(PerspectiveCamera.a,Object.assign({makeDefault:!0,near:1,far:1e3},otherProps))};Camera_Camera.displayName="Camera";var SceneElements_Camera=Camera_Camera;try{Camera_Camera.displayName="Camera",Camera_Camera.__docgenInfo={description:"",displayName:"Camera",props:{initialPosition:{defaultValue:null,description:"",name:"initialPosition",required:!1,type:{name:"{ x: number; y: number; z: number; }"}},name:{defaultValue:{value:"''"},description:"Optional name of the object (doesn't need to be unique).",name:"name",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"PerspectiveCamera"'}]}},id:{defaultValue:null,description:"Unique number of this object instance.",name:"id",required:!1,type:{name:"number"}},visible:{defaultValue:{value:"true"},description:"Object gets rendered if true.",name:"visible",required:!1,type:{name:"boolean"}},copy:{defaultValue:null,description:"@param object\n@param recursive",name:"copy",required:!1,type:{name:"((source: PerspectiveCamera, recursive?: boolean) => PerspectiveCamera)"}},uuid:{defaultValue:null,description:"",name:"uuid",required:!1,type:{name:"string"}},userData:{defaultValue:{value:"{}"},description:"An object that can be used to store custom data about the Object3d. It should not hold references to functions as these will not be cloned.",name:"userData",required:!1,type:{name:"{ [key: string]: any; }"}},clone:{defaultValue:null,description:"",name:"clone",required:!1,type:{name:"((recursive?: boolean) => PerspectiveCamera)"}},toJSON:{defaultValue:null,description:"",name:"toJSON",required:!1,type:{name:"((meta?: any) => any)"}},addEventListener:{defaultValue:null,description:"Adds a listener to an event type.\n@param type The type of event to listen to.\n@param listener The function that gets called when the event is fired.",name:"addEventListener",required:!1,type:{name:"(<T extends string>(type: T, listener: EventListener<Event, T, PerspectiveCamera>) => void)"}},hasEventListener:{defaultValue:null,description:"Checks if listener is added to an event type.\n@param type The type of event to listen to.\n@param listener The function that gets called when the event is fired.",name:"hasEventListener",required:!1,type:{name:"(<T extends string>(type: T, listener: EventListener<Event, T, PerspectiveCamera>) => boolean)"}},removeEventListener:{defaultValue:null,description:"Removes a listener from an event type.\n@param type The type of the listener that gets removed.\n@param listener The listener function that gets removed.",name:"removeEventListener",required:!1,type:{name:"(<T extends string>(type: T, listener: EventListener<Event, T, PerspectiveCamera>) => void)"}},dispatchEvent:{defaultValue:null,description:"Fire an event type.\n@param type The type of event that gets fired.",name:"dispatchEvent",required:!1,type:{name:"((event: Event) => void)"}},isPerspectiveCamera:{defaultValue:null,description:"",name:"isPerspectiveCamera",required:!1,type:{name:"true"}},zoom:{defaultValue:{value:"1"},description:"",name:"zoom",required:!1,type:{name:"number"}},fov:{defaultValue:{value:"50"},description:"Camera frustum vertical field of view, from bottom to top of view, in degrees.",name:"fov",required:!1,type:{name:"number"}},aspect:{defaultValue:{value:"1"},description:"Camera frustum aspect ratio, window width divided by window height.",name:"aspect",required:!1,type:{name:"number"}},near:{defaultValue:{value:"0.1"},description:"Camera frustum near plane.",name:"near",required:!1,type:{name:"number"}},far:{defaultValue:{value:"2000"},description:"Camera frustum far plane.",name:"far",required:!1,type:{name:"number"}},focus:{defaultValue:{value:"10"},description:"",name:"focus",required:!1,type:{name:"number"}},view:{defaultValue:{value:"null"},description:"",name:"view",required:!1,type:{name:"{ enabled: boolean; fullWidth: number; fullHeight: number; offsetX: number; offsetY: number; width: number; height: number; } | null"}},filmGauge:{defaultValue:{value:"35"},description:"",name:"filmGauge",required:!1,type:{name:"number"}},filmOffset:{defaultValue:{value:"0"},description:"",name:"filmOffset",required:!1,type:{name:"number"}},setFocalLength:{defaultValue:null,description:"",name:"setFocalLength",required:!1,type:{name:"((focalLength: number) => void)"}},getFocalLength:{defaultValue:null,description:"",name:"getFocalLength",required:!1,type:{name:"(() => number)"}},getEffectiveFOV:{defaultValue:null,description:"",name:"getEffectiveFOV",required:!1,type:{name:"(() => number)"}},getFilmWidth:{defaultValue:null,description:"",name:"getFilmWidth",required:!1,type:{name:"(() => number)"}},getFilmHeight:{defaultValue:null,description:"",name:"getFilmHeight",required:!1,type:{name:"(() => number)"}},setViewOffset:{defaultValue:null,description:"Sets an offset in a larger frustum. This is useful for multi-window or multi-monitor/multi-machine setups.\nFor example, if you have 3x2 monitors and each monitor is 1920x1080 and the monitors are in grid like this:\n\n+---+---+---+\n| A | B | C |\n+---+---+---+\n| D | E | F |\n+---+---+---+\n\nthen for each monitor you would call it like this:\n\nconst w = 1920;\nconst h = 1080;\nconst fullWidth = w * 3;\nconst fullHeight = h * 2;\n\n// A\ncamera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n// B\ncamera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n// C\ncamera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n// D\ncamera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n// E\ncamera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n// F\ncamera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h ); Note there is no reason monitors have to be the same size or in a grid.\n@param fullWidth full width of multiview setup\n@param fullHeight full height of multiview setup\n@param x horizontal offset of subcamera\n@param y vertical offset of subcamera\n@param width width of subcamera\n@param height height of subcamera",name:"setViewOffset",required:!1,type:{name:"((fullWidth: number, fullHeight: number, x: number, y: number, width: number, height: number) => void)"}},clearViewOffset:{defaultValue:null,description:"",name:"clearViewOffset",required:!1,type:{name:"(() => void)"}},updateProjectionMatrix:{defaultValue:null,description:"Updates the camera projection matrix. Must be called after change of parameters.",name:"updateProjectionMatrix",required:!1,type:{name:"(() => void)"}},setLens:{defaultValue:null,description:"@deprecated Use {@link PerspectiveCamera#setFocalLength .setFocalLength()} and {@link PerspectiveCamera#filmGauge .filmGauge} instead.",name:"setLens",required:!1,type:{name:"((focalLength: number, frameHeight?: number) => void)"}},matrixWorldInverse:{defaultValue:{value:"new THREE.Matrix4()"},description:"This is the inverse of matrixWorld. MatrixWorld contains the Matrix which has the world transform of the Camera.",name:"matrixWorldInverse",required:!1,type:{name:"Matrix4"}},projectionMatrix:{defaultValue:{value:"new THREE.Matrix4()"},description:"This is the matrix which contains the projection.",name:"projectionMatrix",required:!1,type:{name:"Matrix4"}},projectionMatrixInverse:{defaultValue:{value:"new THREE.Matrix4()"},description:"This is the inverse of projectionMatrix.",name:"projectionMatrixInverse",required:!1,type:{name:"Matrix4"}},isCamera:{defaultValue:null,description:"",name:"isCamera",required:!1,type:{name:"true"}},getWorldDirection:{defaultValue:null,description:"",name:"getWorldDirection",required:!1,type:{name:"((target: Vector3) => Vector3)"}},updateMatrixWorld:{defaultValue:null,description:"Updates global transform of the object and its children.",name:"updateMatrixWorld",required:!1,type:{name:"((force?: boolean) => void)"}},parent:{defaultValue:{value:"null"},description:"Object's parent in the scene graph.",name:"parent",required:!1,type:{name:"Object3D<Event> | null"}},modelViewMatrix:{defaultValue:{value:"new THREE.Matrix4()"},description:"",name:"modelViewMatrix",required:!1,type:{name:"Matrix4"}},normalMatrix:{defaultValue:{value:"new THREE.Matrix3()"},description:"",name:"normalMatrix",required:!1,type:{name:"Matrix3"}},matrixWorld:{defaultValue:{value:"new THREE.Matrix4()"},description:"The global transform of the object. If the Object3d has no parent, then it's identical to the local transform.",name:"matrixWorld",required:!1,type:{name:"Matrix4"}},matrixAutoUpdate:{defaultValue:{value:"THREE.Object3D.DefaultMatrixAutoUpdate"},description:"When this is set, it calculates the matrix of position, (rotation or quaternion) and scale every frame and also\nrecalculates the matrixWorld property.",name:"matrixAutoUpdate",required:!1,type:{name:"boolean"}},matrixWorldNeedsUpdate:{defaultValue:{value:"false"},description:"When this is set, it calculates the matrixWorld in that frame and resets this property to false.",name:"matrixWorldNeedsUpdate",required:!1,type:{name:"boolean"}},castShadow:{defaultValue:{value:"false"},description:"Gets rendered into shadow map.",name:"castShadow",required:!1,type:{name:"boolean"}},receiveShadow:{defaultValue:{value:"false"},description:"Material gets baked in shadow receiving.",name:"receiveShadow",required:!1,type:{name:"boolean"}},frustumCulled:{defaultValue:{value:"true"},description:"When this is set, it checks every frame if the object is in the frustum of the camera before rendering the object.\nIf set to false the object gets rendered every frame even if it is not in the frustum of the camera.",name:"frustumCulled",required:!1,type:{name:"boolean"}},renderOrder:{defaultValue:{value:"0"},description:"Overrides the default rendering order of scene graph objects, from lowest to highest renderOrder.\nOpaque and transparent objects remain sorted independently though.\nWhen this property is set for an instance of Group, all descendants objects will be sorted and rendered together.",name:"renderOrder",required:!1,type:{name:"number"}},animations:{defaultValue:{value:"[]"},description:"Array with animation clips.",name:"animations",required:!1,type:{name:"AnimationClip[]"}},customDepthMaterial:{defaultValue:null,description:"Custom depth material to be used when rendering to the depth map. Can only be used in context of meshes.\nWhen shadow-casting with a DirectionalLight or SpotLight, if you are (a) modifying vertex positions in\nthe vertex shader, (b) using a displacement map, (c) using an alpha map with alphaTest, or (d) using a\ntransparent texture with alphaTest, you must specify a customDepthMaterial for proper shadows.",name:"customDepthMaterial",required:!1,type:{name:"Material"}},customDistanceMaterial:{defaultValue:null,description:"Same as customDepthMaterial, but used with PointLight.",name:"customDistanceMaterial",required:!1,type:{name:"Material"}},isObject3D:{defaultValue:null,description:"Used to check whether this or derived classes are Object3Ds. Default is true.\nYou should not change this, as it is used internally for optimisation.",name:"isObject3D",required:!1,type:{name:"true"}},onBeforeRender:{defaultValue:null,description:"Calls before rendering object",name:"onBeforeRender",required:!1,type:{name:"((renderer: WebGLRenderer, scene: Scene, camera: Camera, geometry: BufferGeometry, material: Material, group: Group) => void)"}},onAfterRender:{defaultValue:null,description:"Calls after rendering object",name:"onAfterRender",required:!1,type:{name:"((renderer: WebGLRenderer, scene: Scene, camera: Camera, geometry: BufferGeometry, material: Material, group: Group) => void)"}},applyMatrix4:{defaultValue:null,description:"This updates the position, rotation and scale with the matrix.",name:"applyMatrix4",required:!1,type:{name:"((matrix: Matrix4) => void)"}},applyQuaternion:{defaultValue:null,description:"",name:"applyQuaternion",required:!1,type:{name:"((quaternion: Quaternion) => PerspectiveCamera)"}},setRotationFromAxisAngle:{defaultValue:null,description:"",name:"setRotationFromAxisAngle",required:!1,type:{name:"((axis: Vector3, angle: number) => void)"}},setRotationFromEuler:{defaultValue:null,description:"",name:"setRotationFromEuler",required:!1,type:{name:"((euler: Euler) => void)"}},setRotationFromMatrix:{defaultValue:null,description:"",name:"setRotationFromMatrix",required:!1,type:{name:"((m: Matrix4) => void)"}},setRotationFromQuaternion:{defaultValue:null,description:"",name:"setRotationFromQuaternion",required:!1,type:{name:"((q: Quaternion) => void)"}},rotateOnAxis:{defaultValue:null,description:"Rotate an object along an axis in object space. The axis is assumed to be normalized.\n@param axis A normalized vector in object space.\n@param angle The angle in radians.",name:"rotateOnAxis",required:!1,type:{name:"((axis: Vector3, angle: number) => PerspectiveCamera)"}},rotateOnWorldAxis:{defaultValue:null,description:"Rotate an object along an axis in world space. The axis is assumed to be normalized. Method Assumes no rotated parent.\n@param axis A normalized vector in object space.\n@param angle The angle in radians.",name:"rotateOnWorldAxis",required:!1,type:{name:"((axis: Vector3, angle: number) => PerspectiveCamera)"}},rotateX:{defaultValue:null,description:"@param angle",name:"rotateX",required:!1,type:{name:"((angle: number) => PerspectiveCamera)"}},rotateY:{defaultValue:null,description:"@param angle",name:"rotateY",required:!1,type:{name:"((angle: number) => PerspectiveCamera)"}},rotateZ:{defaultValue:null,description:"@param angle",name:"rotateZ",required:!1,type:{name:"((angle: number) => PerspectiveCamera)"}},translateOnAxis:{defaultValue:null,description:"@param axis A normalized vector in object space.\n@param distance The distance to translate.",name:"translateOnAxis",required:!1,type:{name:"((axis: Vector3, distance: number) => PerspectiveCamera)"}},translateX:{defaultValue:null,description:"Translates object along x axis by distance.\n@param distance Distance.",name:"translateX",required:!1,type:{name:"((distance: number) => PerspectiveCamera)"}},translateY:{defaultValue:null,description:"Translates object along y axis by distance.\n@param distance Distance.",name:"translateY",required:!1,type:{name:"((distance: number) => PerspectiveCamera)"}},translateZ:{defaultValue:null,description:"Translates object along z axis by distance.\n@param distance Distance.",name:"translateZ",required:!1,type:{name:"((distance: number) => PerspectiveCamera)"}},localToWorld:{defaultValue:null,description:"Updates the vector from local space to world space.\n@param vector A local vector.",name:"localToWorld",required:!1,type:{name:"((vector: Vector3) => Vector3)"}},worldToLocal:{defaultValue:null,description:"Updates the vector from world space to local space.\n@param vector A world vector.",name:"worldToLocal",required:!1,type:{name:"((vector: Vector3) => Vector3)"}},lookAt:{defaultValue:null,description:"Rotates object to face point in space.\n@param vector A world vector to look at.",name:"lookAt",required:!1,type:{name:"((vector: number | Vector3, y?: number, z?: number) => void) | undefined"}},add:{defaultValue:null,description:"Adds object as child of this object.",name:"add",required:!1,type:{name:"((...object: Object3D<Event>[]) => PerspectiveCamera)"}},remove:{defaultValue:null,description:"Removes object as child of this object.",name:"remove",required:!1,type:{name:"((...object: Object3D<Event>[]) => PerspectiveCamera)"}},removeFromParent:{defaultValue:null,description:"Removes this object from its current parent.",name:"removeFromParent",required:!1,type:{name:"(() => PerspectiveCamera)"}},clear:{defaultValue:null,description:"Removes all child objects.",name:"clear",required:!1,type:{name:"(() => PerspectiveCamera)"}},getObjectById:{defaultValue:null,description:"Searches through the object's children and returns the first with a matching id.\n@param id Unique number of the object instance",name:"getObjectById",required:!1,type:{name:"((id: number) => Object3D<Event>)"}},getObjectByName:{defaultValue:null,description:"Searches through the object's children and returns the first with a matching name.\n@param name String to match to the children's Object3d.name property.",name:"getObjectByName",required:!1,type:{name:"((name: string) => Object3D<Event>)"}},getObjectByProperty:{defaultValue:null,description:"",name:"getObjectByProperty",required:!1,type:{name:"((name: string, value: string) => Object3D<Event>)"}},getWorldPosition:{defaultValue:null,description:"",name:"getWorldPosition",required:!1,type:{name:"((target: Vector3) => Vector3)"}},getWorldQuaternion:{defaultValue:null,description:"",name:"getWorldQuaternion",required:!1,type:{name:"((target: Quaternion) => Quaternion)"}},getWorldScale:{defaultValue:null,description:"",name:"getWorldScale",required:!1,type:{name:"((target: Vector3) => Vector3)"}},raycast:{defaultValue:null,description:"",name:"raycast",required:!1,type:{name:"((raycaster: Raycaster, intersects: Intersection[]) => void)"}},traverse:{defaultValue:null,description:"",name:"traverse",required:!1,type:{name:"((callback: (object: Object3D<Event>) => any) => void)"}},traverseVisible:{defaultValue:null,description:"",name:"traverseVisible",required:!1,type:{name:"((callback: (object: Object3D<Event>) => any) => void)"}},traverseAncestors:{defaultValue:null,description:"",name:"traverseAncestors",required:!1,type:{name:"((callback: (object: Object3D<Event>) => any) => void)"}},updateMatrix:{defaultValue:null,description:"Updates local transform.",name:"updateMatrix",required:!1,type:{name:"(() => void)"}},updateWorldMatrix:{defaultValue:null,description:"",name:"updateWorldMatrix",required:!1,type:{name:"((updateParents: boolean, updateChildren: boolean) => void)"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"Vector3"}},up:{defaultValue:null,description:"",name:"up",required:!1,type:{name:"Vector3"}},scale:{defaultValue:null,description:"",name:"scale",required:!1,type:{name:"Vector3"}},rotation:{defaultValue:null,description:"",name:"rotation",required:!1,type:{name:"Euler"}},matrix:{defaultValue:null,description:"",name:"matrix",required:!1,type:{name:"Matrix4"}},quaternion:{defaultValue:null,description:"",name:"quaternion",required:!1,type:{name:"Quaternion"}},layers:{defaultValue:null,description:"",name:"layers",required:!1,type:{name:"Layers"}},dispose:{defaultValue:null,description:"",name:"dispose",required:!1,type:{name:"(() => void) | null"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: ThreeEvent<MouseEvent>) => void)"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"((event: ThreeEvent<MouseEvent>) => void)"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"((event: ThreeEvent<MouseEvent>) => void)"}},onPointerUp:{defaultValue:null,description:"",name:"onPointerUp",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerDown:{defaultValue:null,description:"",name:"onPointerDown",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerOver:{defaultValue:null,description:"",name:"onPointerOver",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerOut:{defaultValue:null,description:"",name:"onPointerOut",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerEnter:{defaultValue:null,description:"",name:"onPointerEnter",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerLeave:{defaultValue:null,description:"",name:"onPointerLeave",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerMove:{defaultValue:null,description:"",name:"onPointerMove",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerMissed:{defaultValue:null,description:"",name:"onPointerMissed",required:!1,type:{name:"((event: MouseEvent) => void)"}},onPointerCancel:{defaultValue:null,description:"",name:"onPointerCancel",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onWheel:{defaultValue:null,description:"",name:"onWheel",required:!1,type:{name:"((event: ThreeEvent<WheelEvent>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/GCodeViewer/SceneElements/Camera.tsx#Camera"]={docgenInfo:Camera_Camera.__docgenInfo,name:"Camera",path:"src/GCodeViewer/SceneElements/Camera.tsx#Camera"})}catch(__react_docgen_typescript_loader_error){}var Floor_excluded=["visible","width","length"];function Floor_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function Floor_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Floor_Floor=function Floor(_ref){var visible=_ref.visible,_ref$width=_ref.width,width=void 0===_ref$width?0:_ref$width,_ref$length=_ref.length,length=void 0===_ref$length?0:_ref$length,otherProps=Floor_objectWithoutProperties(_ref,Floor_excluded),position=[width/2+.1,length/2+.1,0],planeArgs=[width,length,Math.floor(width/20)||1,Math.floor(length/20)||1];return visible?Object(jsx_runtime.jsx)("group",Object.assign({},otherProps,{children:width&&length&&Object(jsx_runtime.jsxs)("mesh",{position:position,children:[Object(jsx_runtime.jsx)("planeGeometry",{args:planeArgs}),Object(jsx_runtime.jsx)("meshStandardMaterial",{wireframe:!0,opacity:.2})]})})):null};Floor_Floor.displayName="Floor";var SceneElements_Floor=Floor_Floor;try{Floor_Floor.displayName="Floor",Floor_Floor.__docgenInfo={description:"",displayName:"Floor",props:{visible:{defaultValue:null,description:"Object gets rendered if true.",name:"visible",required:!1,type:{name:"boolean"}},width:{defaultValue:{value:"0"},description:"",name:"width",required:!1,type:{name:"number"}},length:{defaultValue:{value:"0"},description:"",name:"length",required:!1,type:{name:"number"}},noShadow:{defaultValue:null,description:"",name:"noShadow",required:!1,type:{name:"boolean"}},name:{defaultValue:{value:"''"},description:"Optional name of the object (doesn't need to be unique).",name:"name",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"Group"'}]}},id:{defaultValue:null,description:"Unique number of this object instance.",name:"id",required:!1,type:{name:"number"}},copy:{defaultValue:null,description:"@param object\n@param recursive",name:"copy",required:!1,type:{name:"((source: Group, recursive?: boolean) => Group)"}},uuid:{defaultValue:null,description:"",name:"uuid",required:!1,type:{name:"string"}},userData:{defaultValue:{value:"{}"},description:"An object that can be used to store custom data about the Object3d. It should not hold references to functions as these will not be cloned.",name:"userData",required:!1,type:{name:"{ [key: string]: any; }"}},clone:{defaultValue:null,description:"",name:"clone",required:!1,type:{name:"((recursive?: boolean) => Group)"}},toJSON:{defaultValue:null,description:"",name:"toJSON",required:!1,type:{name:"((meta?: { geometries: any; materials: any; textures: any; images: any; }) => any)"}},addEventListener:{defaultValue:null,description:"Adds a listener to an event type.\n@param type The type of event to listen to.\n@param listener The function that gets called when the event is fired.",name:"addEventListener",required:!1,type:{name:"(<T extends string>(type: T, listener: EventListener<Event, T, Group>) => void)"}},hasEventListener:{defaultValue:null,description:"Checks if listener is added to an event type.\n@param type The type of event to listen to.\n@param listener The function that gets called when the event is fired.",name:"hasEventListener",required:!1,type:{name:"(<T extends string>(type: T, listener: EventListener<Event, T, Group>) => boolean)"}},removeEventListener:{defaultValue:null,description:"Removes a listener from an event type.\n@param type The type of the listener that gets removed.\n@param listener The listener function that gets removed.",name:"removeEventListener",required:!1,type:{name:"(<T extends string>(type: T, listener: EventListener<Event, T, Group>) => void)"}},dispatchEvent:{defaultValue:null,description:"Fire an event type.\n@param type The type of event that gets fired.",name:"dispatchEvent",required:!1,type:{name:"((event: Event) => void)"}},getWorldDirection:{defaultValue:null,description:"",name:"getWorldDirection",required:!1,type:{name:"((target: Vector3) => Vector3)"}},updateMatrixWorld:{defaultValue:null,description:"Updates global transform of the object and its children.",name:"updateMatrixWorld",required:!1,type:{name:"((force?: boolean) => void)"}},parent:{defaultValue:{value:"null"},description:"Object's parent in the scene graph.",name:"parent",required:!1,type:{name:"Object3D<Event> | null"}},modelViewMatrix:{defaultValue:{value:"new THREE.Matrix4()"},description:"",name:"modelViewMatrix",required:!1,type:{name:"Matrix4"}},normalMatrix:{defaultValue:{value:"new THREE.Matrix3()"},description:"",name:"normalMatrix",required:!1,type:{name:"Matrix3"}},matrixWorld:{defaultValue:{value:"new THREE.Matrix4()"},description:"The global transform of the object. If the Object3d has no parent, then it's identical to the local transform.",name:"matrixWorld",required:!1,type:{name:"Matrix4"}},matrixAutoUpdate:{defaultValue:{value:"THREE.Object3D.DefaultMatrixAutoUpdate"},description:"When this is set, it calculates the matrix of position, (rotation or quaternion) and scale every frame and also\nrecalculates the matrixWorld property.",name:"matrixAutoUpdate",required:!1,type:{name:"boolean"}},matrixWorldNeedsUpdate:{defaultValue:{value:"false"},description:"When this is set, it calculates the matrixWorld in that frame and resets this property to false.",name:"matrixWorldNeedsUpdate",required:!1,type:{name:"boolean"}},castShadow:{defaultValue:{value:"false"},description:"Gets rendered into shadow map.",name:"castShadow",required:!1,type:{name:"boolean"}},receiveShadow:{defaultValue:{value:"false"},description:"Material gets baked in shadow receiving.",name:"receiveShadow",required:!1,type:{name:"boolean"}},frustumCulled:{defaultValue:{value:"true"},description:"When this is set, it checks every frame if the object is in the frustum of the camera before rendering the object.\nIf set to false the object gets rendered every frame even if it is not in the frustum of the camera.",name:"frustumCulled",required:!1,type:{name:"boolean"}},renderOrder:{defaultValue:{value:"0"},description:"Overrides the default rendering order of scene graph objects, from lowest to highest renderOrder.\nOpaque and transparent objects remain sorted independently though.\nWhen this property is set for an instance of Group, all descendants objects will be sorted and rendered together.",name:"renderOrder",required:!1,type:{name:"number"}},animations:{defaultValue:{value:"[]"},description:"Array with animation clips.",name:"animations",required:!1,type:{name:"AnimationClip[]"}},customDepthMaterial:{defaultValue:null,description:"Custom depth material to be used when rendering to the depth map. Can only be used in context of meshes.\nWhen shadow-casting with a DirectionalLight or SpotLight, if you are (a) modifying vertex positions in\nthe vertex shader, (b) using a displacement map, (c) using an alpha map with alphaTest, or (d) using a\ntransparent texture with alphaTest, you must specify a customDepthMaterial for proper shadows.",name:"customDepthMaterial",required:!1,type:{name:"Material"}},customDistanceMaterial:{defaultValue:null,description:"Same as customDepthMaterial, but used with PointLight.",name:"customDistanceMaterial",required:!1,type:{name:"Material"}},isObject3D:{defaultValue:null,description:"Used to check whether this or derived classes are Object3Ds. Default is true.\nYou should not change this, as it is used internally for optimisation.",name:"isObject3D",required:!1,type:{name:"true"}},onBeforeRender:{defaultValue:null,description:"Calls before rendering object",name:"onBeforeRender",required:!1,type:{name:"((renderer: WebGLRenderer, scene: Scene, camera: Camera, geometry: BufferGeometry, material: Material, group: Group) => void)"}},onAfterRender:{defaultValue:null,description:"Calls after rendering object",name:"onAfterRender",required:!1,type:{name:"((renderer: WebGLRenderer, scene: Scene, camera: Camera, geometry: BufferGeometry, material: Material, group: Group) => void)"}},applyMatrix4:{defaultValue:null,description:"This updates the position, rotation and scale with the matrix.",name:"applyMatrix4",required:!1,type:{name:"((matrix: Matrix4) => void)"}},applyQuaternion:{defaultValue:null,description:"",name:"applyQuaternion",required:!1,type:{name:"((quaternion: Quaternion) => Group)"}},setRotationFromAxisAngle:{defaultValue:null,description:"",name:"setRotationFromAxisAngle",required:!1,type:{name:"((axis: Vector3, angle: number) => void)"}},setRotationFromEuler:{defaultValue:null,description:"",name:"setRotationFromEuler",required:!1,type:{name:"((euler: Euler) => void)"}},setRotationFromMatrix:{defaultValue:null,description:"",name:"setRotationFromMatrix",required:!1,type:{name:"((m: Matrix4) => void)"}},setRotationFromQuaternion:{defaultValue:null,description:"",name:"setRotationFromQuaternion",required:!1,type:{name:"((q: Quaternion) => void)"}},rotateOnAxis:{defaultValue:null,description:"Rotate an object along an axis in object space. The axis is assumed to be normalized.\n@param axis A normalized vector in object space.\n@param angle The angle in radians.",name:"rotateOnAxis",required:!1,type:{name:"((axis: Vector3, angle: number) => Group)"}},rotateOnWorldAxis:{defaultValue:null,description:"Rotate an object along an axis in world space. The axis is assumed to be normalized. Method Assumes no rotated parent.\n@param axis A normalized vector in object space.\n@param angle The angle in radians.",name:"rotateOnWorldAxis",required:!1,type:{name:"((axis: Vector3, angle: number) => Group)"}},rotateX:{defaultValue:null,description:"@param angle",name:"rotateX",required:!1,type:{name:"((angle: number) => Group)"}},rotateY:{defaultValue:null,description:"@param angle",name:"rotateY",required:!1,type:{name:"((angle: number) => Group)"}},rotateZ:{defaultValue:null,description:"@param angle",name:"rotateZ",required:!1,type:{name:"((angle: number) => Group)"}},translateOnAxis:{defaultValue:null,description:"@param axis A normalized vector in object space.\n@param distance The distance to translate.",name:"translateOnAxis",required:!1,type:{name:"((axis: Vector3, distance: number) => Group)"}},translateX:{defaultValue:null,description:"Translates object along x axis by distance.\n@param distance Distance.",name:"translateX",required:!1,type:{name:"((distance: number) => Group)"}},translateY:{defaultValue:null,description:"Translates object along y axis by distance.\n@param distance Distance.",name:"translateY",required:!1,type:{name:"((distance: number) => Group)"}},translateZ:{defaultValue:null,description:"Translates object along z axis by distance.\n@param distance Distance.",name:"translateZ",required:!1,type:{name:"((distance: number) => Group)"}},localToWorld:{defaultValue:null,description:"Updates the vector from local space to world space.\n@param vector A local vector.",name:"localToWorld",required:!1,type:{name:"((vector: Vector3) => Vector3)"}},worldToLocal:{defaultValue:null,description:"Updates the vector from world space to local space.\n@param vector A world vector.",name:"worldToLocal",required:!1,type:{name:"((vector: Vector3) => Vector3)"}},lookAt:{defaultValue:null,description:"Rotates object to face point in space.\n@param vector A world vector to look at.",name:"lookAt",required:!1,type:{name:"((vector: number | Vector3, y?: number, z?: number) => void) | undefined"}},add:{defaultValue:null,description:"Adds object as child of this object.",name:"add",required:!1,type:{name:"((...object: Object3D<Event>[]) => Group)"}},remove:{defaultValue:null,description:"Removes object as child of this object.",name:"remove",required:!1,type:{name:"((...object: Object3D<Event>[]) => Group)"}},removeFromParent:{defaultValue:null,description:"Removes this object from its current parent.",name:"removeFromParent",required:!1,type:{name:"(() => Group)"}},clear:{defaultValue:null,description:"Removes all child objects.",name:"clear",required:!1,type:{name:"(() => Group)"}},getObjectById:{defaultValue:null,description:"Searches through the object's children and returns the first with a matching id.\n@param id Unique number of the object instance",name:"getObjectById",required:!1,type:{name:"((id: number) => Object3D<Event>)"}},getObjectByName:{defaultValue:null,description:"Searches through the object's children and returns the first with a matching name.\n@param name String to match to the children's Object3d.name property.",name:"getObjectByName",required:!1,type:{name:"((name: string) => Object3D<Event>)"}},getObjectByProperty:{defaultValue:null,description:"",name:"getObjectByProperty",required:!1,type:{name:"((name: string, value: string) => Object3D<Event>)"}},getWorldPosition:{defaultValue:null,description:"",name:"getWorldPosition",required:!1,type:{name:"((target: Vector3) => Vector3)"}},getWorldQuaternion:{defaultValue:null,description:"",name:"getWorldQuaternion",required:!1,type:{name:"((target: Quaternion) => Quaternion)"}},getWorldScale:{defaultValue:null,description:"",name:"getWorldScale",required:!1,type:{name:"((target: Vector3) => Vector3)"}},raycast:{defaultValue:null,description:"",name:"raycast",required:!1,type:{name:"((raycaster: Raycaster, intersects: Intersection[]) => void)"}},traverse:{defaultValue:null,description:"",name:"traverse",required:!1,type:{name:"((callback: (object: Object3D<Event>) => any) => void)"}},traverseVisible:{defaultValue:null,description:"",name:"traverseVisible",required:!1,type:{name:"((callback: (object: Object3D<Event>) => any) => void)"}},traverseAncestors:{defaultValue:null,description:"",name:"traverseAncestors",required:!1,type:{name:"((callback: (object: Object3D<Event>) => any) => void)"}},updateMatrix:{defaultValue:null,description:"Updates local transform.",name:"updateMatrix",required:!1,type:{name:"(() => void)"}},updateWorldMatrix:{defaultValue:null,description:"",name:"updateWorldMatrix",required:!1,type:{name:"((updateParents: boolean, updateChildren: boolean) => void)"}},isGroup:{defaultValue:null,description:"",name:"isGroup",required:!1,type:{name:"true"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"Vector3"}},up:{defaultValue:null,description:"",name:"up",required:!1,type:{name:"Vector3"}},scale:{defaultValue:null,description:"",name:"scale",required:!1,type:{name:"Vector3"}},rotation:{defaultValue:null,description:"",name:"rotation",required:!1,type:{name:"Euler"}},matrix:{defaultValue:null,description:"",name:"matrix",required:!1,type:{name:"Matrix4"}},quaternion:{defaultValue:null,description:"",name:"quaternion",required:!1,type:{name:"Quaternion"}},layers:{defaultValue:null,description:"",name:"layers",required:!1,type:{name:"Layers"}},dispose:{defaultValue:null,description:"",name:"dispose",required:!1,type:{name:"(() => void) | null"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: ThreeEvent<MouseEvent>) => void)"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"((event: ThreeEvent<MouseEvent>) => void)"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"((event: ThreeEvent<MouseEvent>) => void)"}},onPointerUp:{defaultValue:null,description:"",name:"onPointerUp",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerDown:{defaultValue:null,description:"",name:"onPointerDown",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerOver:{defaultValue:null,description:"",name:"onPointerOver",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerOut:{defaultValue:null,description:"",name:"onPointerOut",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerEnter:{defaultValue:null,description:"",name:"onPointerEnter",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerLeave:{defaultValue:null,description:"",name:"onPointerLeave",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerMove:{defaultValue:null,description:"",name:"onPointerMove",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onPointerMissed:{defaultValue:null,description:"",name:"onPointerMissed",required:!1,type:{name:"((event: MouseEvent) => void)"}},onPointerCancel:{defaultValue:null,description:"",name:"onPointerCancel",required:!1,type:{name:"((event: ThreeEvent<PointerEvent>) => void)"}},onWheel:{defaultValue:null,description:"",name:"onWheel",required:!1,type:{name:"((event: ThreeEvent<WheelEvent>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/GCodeViewer/SceneElements/Floor.tsx#Floor"]={docgenInfo:Floor_Floor.__docgenInfo,name:"Floor",path:"src/GCodeViewer/SceneElements/Floor.tsx#Floor"})}catch(__react_docgen_typescript_loader_error){}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return GCodeModel_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||GCodeModel_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||GCodeModel_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GCodeModel_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return GCodeModel_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GCodeModel_arrayLikeToArray(o,minLen):void 0}}function GCodeModel_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DEFAULT_CENTER={x:100,y:100},BACKGROUND=new three_module.Color("white");function GCodeModel(_ref){var reader=_ref.reader,_ref$layerColor=_ref.layerColor,layerColor=void 0===_ref$layerColor?"grey":_ref$layerColor,_ref$topLayerColor=_ref.topLayerColor,topLayerColor=void 0===_ref$topLayerColor?"hotpink":_ref$topLayerColor,_ref$visible=_ref.visible,visible=void 0===_ref$visible?1:_ref$visible,_ref$quality=_ref.quality,quality=void 0===_ref$quality?1:_ref$quality,showAxes=_ref.showAxes,orbitControls=_ref.orbitControls,onProgress=_ref.onProgress,onFinishLoading=_ref.onFinishLoading,_ref$floorProps=_ref.floorProps,_ref$floorProps$gridL=(_ref$floorProps=void 0===_ref$floorProps?{}:_ref$floorProps).gridLength,gridLength=void 0===_ref$floorProps$gridL?0:_ref$floorProps$gridL,_ref$floorProps$gridW=_ref$floorProps.gridWidth,gridWidth=void 0===_ref$floorProps$gridW?0:_ref$floorProps$gridW,onError=_ref.onError,camera=Object(react_three_fiber_esm.c)().camera,_useState2=_slicedToArray(Object(react.useState)(!1),2),sceneReady=_useState2[0],setSceneReady=_useState2[1],gCodeRef=Object(react.useRef)(),callbacks=Object(react.useRef)({onFinishLoading:onFinishLoading,onError:onError,onProgress:onProgress});Object(react.useEffect)((function(){callbacks.current.onFinishLoading=onFinishLoading,callbacks.current.onError=onError,callbacks.current.onProgress=onProgress}),[onFinishLoading,onError,onProgress]);var _useState4=_slicedToArray(Object(react.useState)(DEFAULT_CENTER),2),center=_useState4[0],setCenter=_useState4[1],_useState6=_slicedToArray(Object(react.useState)([]),2),gPointBatches=_useState6[0],setGPointBatches=_useState6[1];Object(react.useEffect)((function(){camera.lookAt(center.x||gridWidth/2,center.y||gridLength/2,20)}),[center.x,center.y]),Object(react.useEffect)((function(){var _gCodeRef$current;function onGCodeProgress(_ref2){var points=_ref2.points,baseCenter=_ref2.baseCenter;setGPointBatches((function(prev){var sum=prev.reduce((function(acc,p){return acc+p.points.length}),0),batchPoints=points.slice(sum);if(0===batchPoints.length)return prev;var avgZ=batchPoints.reduce((function(acc,p){return acc+p.z}),0)/(batchPoints.length||1);return[].concat(_toConsumableArray(prev),[{points:batchPoints,avgZ:avgZ}])})),setCenter(baseCenter),setSceneReady(!0)}setGPointBatches([]),null===(_gCodeRef$current=gCodeRef.current)||void 0===_gCodeRef$current||_gCodeRef$current.abort(),gCodeRef.current=new GCode_GCode({quality:quality,onProgress:function onProgress(progress){onGCodeProgress(progress),callbacks.current.onProgress&&callbacks.current.onProgress(progress)},onFinished:function onFinished(progress){onGCodeProgress(progress),callbacks.current.onFinishLoading&&callbacks.current.onFinishLoading(progress)}}),gCodeRef.current.parse(reader).catch((function(err){callbacks.current.onError&&callbacks.current.onError(err)}))}),[reader,quality]);var visibleZ=Object(react.useMemo)((function(){return Math.max.apply(Math,_toConsumableArray(gPointBatches.map((function(_ref3){return _ref3.avgZ}))))}),[gPointBatches])*Math.min(visible,1),filteredGPoints=gPointBatches.filter((function(_ref4){return _ref4.avgZ<=visibleZ})),isLastLayerBatch=function isLastLayerBatch(batch){return batch===filteredGPoints[filteredGPoints.length-1]||Math.abs(visibleZ-batch.avgZ)<.4},color=function color(batch){return isLastLayerBatch(batch)?topLayerColor:layerColor},opacity=function opacity(batch){return batch.avgZ/visibleZ*(1-.7)+.7},lineWidth=function lineWidth(batch){return isLastLayerBatch(batch)?2:.1};return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(SceneElements_Camera,{initialPosition:{x:84,y:-120,z:120}}),sceneReady&&showAxes&&Object(jsx_runtime.jsx)("axesHelper",{args:[50]}),Object(jsx_runtime.jsx)(SceneElements_Floor,{visible:sceneReady,length:gridLength,width:gridWidth}),Object(jsx_runtime.jsx)("scene",{background:BACKGROUND}),sceneReady&&orbitControls&&Object(jsx_runtime.jsx)(OrbitControls.a,{target:[center.x||gridWidth/2,center.y||gridLength/2,20]}),Object(jsx_runtime.jsx)("group",{children:filteredGPoints.map((function(pointBatch,i){return Object(jsx_runtime.jsx)(GCodeViewer_GCodeLines,{points:pointBatch.points,color:color(pointBatch),opacity:sceneReady?opacity(pointBatch):0,linewidth:lineWidth(pointBatch)},i+" "+pointBatch.points.length)}))})]})}try{GCodeModel.displayName="GCodeModel",GCodeModel.__docgenInfo={description:"",displayName:"GCodeModel",props:{reader:{defaultValue:null,description:"",name:"reader",required:!0,type:{name:"BaseReader"}},layerColor:{defaultValue:{value:"grey"},description:"",name:"layerColor",required:!1,type:{name:"Color"}},topLayerColor:{defaultValue:{value:"hotpink"},description:"",name:"topLayerColor",required:!1,type:{name:"Color"}},floorProps:{defaultValue:null,description:"",name:"floorProps",required:!1,type:{name:"FloorProps"}},visible:{defaultValue:{value:"1"},description:"",name:"visible",required:!1,type:{name:"number"}},showAxes:{defaultValue:null,description:"",name:"showAxes",required:!1,type:{name:"boolean"}},orbitControls:{defaultValue:null,description:"",name:"orbitControls",required:!1,type:{name:"boolean"}},quality:{defaultValue:{value:"1"},description:"",name:"quality",required:!1,type:{name:"number"}},onProgress:{defaultValue:null,description:"",name:"onProgress",required:!1,type:{name:"((progress: GCodeParseProgress) => any)"}},onFinishLoading:{defaultValue:null,description:"",name:"onFinishLoading",required:!1,type:{name:"((finish: GCodeParseProgress) => any)"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((err: Error) => any)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/GCodeViewer/GCodeModel.tsx#GCodeModel"]={docgenInfo:GCodeModel.__docgenInfo,name:"GCodeModel",path:"src/GCodeViewer/GCodeModel.tsx#GCodeModel"})}catch(__react_docgen_typescript_loader_error){}function UrlReader_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function UrlReader_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var UrlReader=function(){function UrlReader(opts){!function UrlReader_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,UrlReader),this.opts=void 0,this.text="",this.finished=!1,this.reader=void 0,this.opts=opts}var _read;return function UrlReader_createClass(Constructor,protoProps,staticProps){return protoProps&&UrlReader_defineProperties(Constructor.prototype,protoProps),staticProps&&UrlReader_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(UrlReader,[{key:"read",value:(_read=function UrlReader_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){UrlReader_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){UrlReader_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var chunkSize,r,decoder,_yield$this$reader$re,value,toReturn,_toReturn;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(chunkSize=this.opts.chunkSize||65536,!this.finished){_context.next=3;break}return _context.abrupt("return",null);case 3:if(this.reader){_context.next=10;break}return _context.next=6,fetch(this.opts.url,this.opts.reqOptions);case 6:if((r=_context.sent).body){_context.next=9;break}throw new Error("no body in response");case 9:this.reader=r.body.getReader();case 10:decoder=new TextDecoder;case 11:if(!(this.text.length<chunkSize)){_context.next=24;break}return _context.next=14,this.reader.read();case 14:if(_yield$this$reader$re=_context.sent,value=_yield$this$reader$re.value,!_yield$this$reader$re.done&&value){_context.next=21;break}return _context.abrupt("break",24);case 21:this.text+=decoder.decode(value);case 22:_context.next=11;break;case 24:if(!(this.text.length>=chunkSize)){_context.next=30;break}return toReturn=this.text.slice(0,chunkSize),this.text=this.text.slice(chunkSize),_context.abrupt("return",toReturn);case 30:return _toReturn=this.text,this.text="",this.finished=!0,_context.abrupt("return",_toReturn);case 34:case"end":return _context.stop()}}),_callee,this)}))),function read(){return _read.apply(this,arguments)})}]),UrlReader}();Math.pow(1024,2);var GCodeViewer_excluded=["canvasId","children","url","showAxes","orbitControls","layerColor","topLayerColor","visible","quality","floorProps","reqOptions","onProgress","onFinishLoading","onError"];function GCodeViewer_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function GCodeViewer_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function GCodeViewer(_ref){var canvasId=_ref.canvasId,children=_ref.children,url=_ref.url,showAxes=_ref.showAxes,orbitControls=_ref.orbitControls,layerColor=_ref.layerColor,topLayerColor=_ref.topLayerColor,visible=_ref.visible,quality=_ref.quality,floorProps=_ref.floorProps,reqOptions=_ref.reqOptions,onProgress=_ref.onProgress,onFinishLoading=_ref.onFinishLoading,onError=_ref.onError,otherProps=GCodeViewer_objectWithoutProperties(_ref,GCodeViewer_excluded),modelProps={reader:Object(react.useMemo)((function(){return new UrlReader({url:url,reqOptions:reqOptions})}),[url]),visible:visible,layerColor:layerColor,topLayerColor:topLayerColor,quality:quality,showAxes:showAxes,orbitControls:orbitControls,floorProps:floorProps,onProgress:onProgress,onFinishLoading:onFinishLoading,onError:onError};return Object(jsx_runtime.jsxs)("div",Object.assign({},otherProps,{children:[Object(jsx_runtime.jsx)(react_default.a.Suspense,{fallback:null,children:Object(jsx_runtime.jsx)(react_three_fiber_esm.a,{id:canvasId,style:{width:"100%",height:"100%"},gl:{preserveDrawingBuffer:!0},children:Object(jsx_runtime.jsx)(GCodeModel,Object.assign({},modelProps))})}),children]}))}GCodeViewer.displayName="GCodeViewer";try{GCodeViewer.displayName="GCodeViewer",GCodeViewer.__docgenInfo={description:"",displayName:"GCodeViewer",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},reqOptions:{defaultValue:null,description:"",name:"reqOptions",required:!1,type:{name:"RequestInit"}},canvasId:{defaultValue:null,description:"",name:"canvasId",required:!1,type:{name:"string"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((err: Error) => any)"}},onProgress:{defaultValue:null,description:"",name:"onProgress",required:!1,type:{name:"((progress: GCodeParseProgress) => any)"}},layerColor:{defaultValue:null,description:"",name:"layerColor",required:!1,type:{name:"Color"}},topLayerColor:{defaultValue:null,description:"",name:"topLayerColor",required:!1,type:{name:"Color"}},floorProps:{defaultValue:null,description:"",name:"floorProps",required:!1,type:{name:"FloorProps"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"number"}},showAxes:{defaultValue:null,description:"",name:"showAxes",required:!1,type:{name:"boolean"}},orbitControls:{defaultValue:null,description:"",name:"orbitControls",required:!1,type:{name:"boolean"}},quality:{defaultValue:null,description:"",name:"quality",required:!1,type:{name:"number"}},onFinishLoading:{defaultValue:null,description:"",name:"onFinishLoading",required:!1,type:{name:"((finish: GCodeParseProgress) => any)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/GCodeViewer/GCodeViewer.tsx#GCodeViewer"]={docgenInfo:GCodeViewer.__docgenInfo,name:"GCodeViewer",path:"src/GCodeViewer/GCodeViewer.tsx#GCodeViewer"})}catch(__react_docgen_typescript_loader_error){}},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},1:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},2:function(module,exports){}},[[1,5,6]]]);